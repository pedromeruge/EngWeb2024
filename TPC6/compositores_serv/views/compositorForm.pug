extends layout 

block content
    .w3-card-4
        header.w3-container.w3-purple
            h2 Criar compositor
    
        form.w3-container(method="POST" onsubmit="prepareFormData()")
            fieldset
                legend Dados
                label Id
                input.w3-input.w3-round(type="text" name="_id")
                label Nome
                input.w3-input.w3-round(type="text" name="nome")
                label Data de nascimento
                input.w3-input.w3-round(type="date" name="dataNasc")
                label Data de óbito
                input.w3-input.w3-round(type="date" name="dataObito")

            fieldset
                legend Periodo do compositor
                label Período
                select.w3-select.w3-border(name="periodo")
                    //- NOTA: o each tem de estar indentando dentor do select, senao os elementos criados no loop são criados na mesma indentação que o loop !!! que era o mesmo que o select, logo apareicma fora do select !!!
                    each periodo in data
                        - var stringTuple = JSON.stringify([periodo["_id"], periodo["nome"]])
                        option(value= stringTuple)= periodo["nome"]


            fieldset
                legend Vida
                label Biografia
                input.w3-input.w3-round(type="text" name="bio" maxlength = "1000")
                button.w3-btn.w3-purple.w3-section(type="submit") Registar

        footer.w3-container.w3-purple
            address Generated by EngWeb2024 in #{date} - 
                a(href="/compositores") [Voltar a compositores]